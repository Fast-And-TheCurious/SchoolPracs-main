const lessonDataExport = {
  lessons: [
    {
      unit: "UNIT 1",
      unitTitle: "Introduction",
      note: "example.txt",
      aboutUnit: "good description",
      uniquelessonTitles: {
        lessonTitle: "Course Overview",
        lesson2Title: "Getting Started",
        lesson3Title: "Importance of the Subject",
        lesson4Title: "Course Objectives",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1:"worksheet1.txt",        
      },
    },
    {
      unit: "UNIT 2",
      unitTitle: "Cool Stuff",
      note: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lesson1Title: "Exploring Cool Concepts",
        lesson2Title: "Advanced Cool Techniques",
        lesson3Title: "Real-life Applications",
        lesson4Title: "Cool Case Studies",
      },
      lessonLink: {
        firstLink: "lesson1.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 3",
      unitTitle: "Solving Equations & Inequalities",
      note: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lesson1Title: "Introduction to Equations",
        lesson2Title: "Solving Linear Equations",
        lesson3Title: "Inequalities and Their Solutions",
        lesson4Title: "Equations in Real-life Problems",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 4",
      unitTitle: "Advanced Topics in Math",
      notes: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lessonpageTitle: "Complex Numbers",
        lesson2Title: "Trigonometry and Calculus",
        lesson3Title: "Vectors and Matrices",
        lesson4Title: "Advanced Problem Solving",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 5",
      unitTitle: "Statistics and Data Analysis",
      notes: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lessonpageTitle: "Introduction to Statistics",
        lesson2Title: "Data Collection and Analysis",
        lesson3Title: "Probability and Distributions",
        lesson4Title: "Statistical Inference",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 6",
      unitTitle: "Geometry and Geometric Figures",
      notes: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lessonpageTitle: "Basic Geometric Shapes",
        lesson2Title: "Euclidean Geometry",
        lesson3Title: "Geometry in the Real World",
        lesson4Title: "Non-Euclidean Geometry",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 7",
      unitTitle: "Algebraic Structures and Abstract Algebra",
      notes: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lessonpageTitle: "Groups and Rings",
        lesson2Title: "Fields and Vector Spaces",
        lesson3Title: "Applications of Abstract Algebra",
        lesson4Title: "Algebraic Structures in Cryptography",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
    {
      unit: "UNIT 8",
      unitTitle: "Systems of Equations",
      notes: "example.txt",
      aboutUnit: "good description",

      uniquelessonTitles: {
        lessonpageTitle: "Introduction to Systems of Equations",
        lesson2Title: "Solving Linear Systems",
        lesson3Title: "Non-Linear Systems and Applications",
        lesson4Title: "Matrix Methods for Solving Systems",
      },
      lessonLink: {
        firstLink: "lessonpage.html",
        secondLink: "lesson2.html",
        thirdLink: "lesson3.html",
        fourthLink: "lesson4.html",
      },
      youTubeVideos: {
        lesson1Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson2Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lesson3Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
        lsson4Video:
          "https://www.youtube.com/embed/JdqL89ZZwFw?si=04Q_OL3gQWiZ5A6v",
      },
      worksheets: {
        worksheetLesson1: "worksheet.txt",
      },
    },
  ],
};

// Initialize the unit index to the first unit
let currentUnitIndex = 0;

// Function to populate the sidebar
function populateSidebar(unitIndex) {
  const sidebar = document.querySelector(".sidebar ul");
  sidebar.innerHTML = "";

  // unit title top
  const mainHeading = document.querySelector(".main_heading");
  mainHeading.innerHTML = `<p>${lessonDataExport.lessons[unitIndex].unit}: ${lessonDataExport.lessons[unitIndex].unitTitle}</p>`;

  // Populate the uniquelessonTitles
  const uniqueLessonTitles =
    lessonDataExport.lessons[unitIndex].uniquelessonTitles;
  for (const lessonKey in uniqueLessonTitles) {
    const lessonTitle = uniqueLessonTitles[lessonKey];
    if (lessonTitle) {
      const listItem = document.createElement("li");
      listItem.classList.add("sidebar_lessonBox");
      listItem.innerHTML = `<a href="${lessonDataExport.lessons[unitIndex].lessonLink[lessonKey]}">${lessonTitle}</a>`;
      sidebar.appendChild(listItem);
    }
  }
}

// Function to handle the "Next Lesson" button click
function onNextLessonClick() {
  if (currentUnitIndex < lessonDataExport.lessons.length - 1) {
    currentUnitIndex++;
    populateSidebar(currentUnitIndex);
  }
}

// Function to handle the "Previous Lesson" button click
function onPreviousLessonClick() {
  if (currentUnitIndex > 0) {
    currentUnitIndex--;
    populateSidebar(currentUnitIndex);
  }
}

// Add event listeners to the buttons
const nextUnitButton = document.getElementById("nextUnitButton");
nextUnitButton.addEventListener("click", onNextLessonClick);

const previousUnitButton = document.getElementById("previousUnitButton");
previousUnitButton.addEventListener("click", onPreviousLessonClick);

// Initialize the sidebar with the first unit
populateSidebar(currentUnitIndex);

function downloadFile() {
  // Get the current selected unit index (e.g., based on user interaction)
  const selectedUnitIndex = 0; // Replace with the actual selected unit index
  const selectedLessonIndex = 0; // Replace with the actual selected lesson index
  // Get the note file name for the selected unit and lesson
  const noteFileName = lessonDataExport.lessons[selectedUnitIndex].note;
  // Fetch the content of the note file (you can use AJAX or fetch here)
  const noteFileContent = "This is the content of the file."; // Replace with actual content retrieval logic

  // Create a Blob from the file content
  const blob = new Blob([noteFileContent], { type: "text/plain" });
  // Create a URL for the Blob
  const url = URL.createObjectURL(blob);
  // Create a download link
  const a = document.createElement("a");
  a.href = url;
  a.download = noteFileName;

  // Trigger a click event on the link to initiate the download
  a.click();

  // Release the URL object
  URL.revokeObjectURL(url);
}

// Add a click event listener to the "Download Notes" button
const downloadButton = document.getElementById("downloadButton");
downloadButton.addEventListener("click", downloadFile);

function worksheetDownloadButton() {
  // Get the current selected unit index (e.g., based on user interaction)
  const UnitIndexSelected = 0; // Replace with the actual selected unit index
  const selectedLessonIndex = 0; // Replace with the actual selected lesson index
  // Get the note file name for the selected unit and lesson
  const worksheetFileName =
  lessonDataExport.lessons[UnitIndexSelected].worksheets.worksheetLesson1;
  const worksheetFileContent = "This is the content of the file."; 
  const blob = new Blob([worksheetFileContent], { type: "text/plain" });
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = worksheetFileName;

  a.click();

  URL.revokeObjectURL(url);
}
const dt = document.getElementById("worksheetDownloadButton");
dt.addEventListener("click", worksheetDownloadButton);

